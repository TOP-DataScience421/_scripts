from numpy import eye, concat, array
from numpy.random import default_rng
from scipy.linalg import lu


n = 3
A = default_rng().random((n,n))
I = eye(n)


P, L, U = lu(A)

# >>> A
# array([[0.55724275, 0.70218759, 0.80075008],
#        [0.88596922, 0.93881135, 0.94479928],
#        [0.36549941, 0.37628561, 0.16095173]])
# >>>
# >>> I
# array([[1., 0., 0.],
#        [0., 1., 0.],
#        [0., 0., 1.]])

# >>> L
# array([[ 1.        ,  0.        ,  0.        ],
#        [ 0.628964  ,  1.        ,  0.        ],
#        [ 0.41254189, -0.09859001,  1.        ]])
# >>>
# >>> U
# array([[ 0.88596922,  0.93881135,  0.94479928],
#        [ 0.        ,  0.11170905,  0.20650534],
#        [ 0.        ,  0.        , -0.20845819]])
# >>>
# >>> P @ L @ U
# array([[0.55724275, 0.70218759, 0.80075008],
#        [0.88596922, 0.93881135, 0.94479928],
#        [0.36549941, 0.37628561, 0.16095173]])
# >>>
# >>> A
# array([[0.55724275, 0.70218759, 0.80075008],
#        [0.88596922, 0.93881135, 0.94479928],
#        [0.36549941, 0.37628561, 0.16095173]])

